# API Reference - {{ app_name_title }}

## Base URL

```
/api/v1/{{ app_name }}/
```

## Authentication

All write operations require authentication.

{% if use_allauth %}
### Session Authentication (Allauth)
Use cookies/session after logging in at `/accounts/login/`.
{% elif use_jwt %}
### JWT Authentication
```http
Authorization: Bearer <access_token>
```

Get tokens at `/api/token/`:
```http
POST /api/token/
{
  "username": "user@example.com",
  "password": "password"
}
```
{% else %}
### Session Authentication
Use session cookies after logging in at `/admin/login/`.
{% endif %}

## Endpoints

### List {{ model_name_plural }}

```http
GET /api/v1/{{ app_name }}/{{ model_name_kebab }}s/
```

**Query Parameters:**
| Parameter | Type | Description |
|-----------|------|-------------|
| `search` | string | Search in title, description |
| `status` | string | Filter by status (draft, active, archived) |
| `ordering` | string | Order by field (-created_at, title) |
| `page` | integer | Page number |
| `page_size` | integer | Items per page (max 100) |

**Response:** `200 OK`
```json
{
  "count": 100,
  "next": "/api/v1/{{ app_name }}/{{ model_name_kebab }}s/?page=2",
  "previous": null,
  "results": [
    {
      "id": "uuid",
      "url": "/api/v1/{{ app_name }}/{{ model_name_kebab }}s/uuid/",
      "title": "Example",
      "status": "active",
      "owner": {"id": 1, "username": "user"},
      "created_at": "2026-02-02T12:00:00Z"
    }
  ]
}
```

### Create {{ model_name }}

```http
POST /api/v1/{{ app_name }}/{{ model_name_kebab }}s/
```

**Request Body:**
```json
{
  "title": "New Item",
  "description": "Description",
  "status": "draft"
}
```

**Response:** `201 Created`

### Retrieve {{ model_name }}

```http
GET /api/v1/{{ app_name }}/{{ model_name_kebab }}s/{id}/
```

**Response:** `200 OK`

### Update {{ model_name }}

```http
PUT /api/v1/{{ app_name }}/{{ model_name_kebab }}s/{id}/
PATCH /api/v1/{{ app_name }}/{{ model_name_kebab }}s/{id}/
```

**Response:** `200 OK`

### Delete {{ model_name }}

```http
DELETE /api/v1/{{ app_name }}/{{ model_name_kebab }}s/{id}/
```

**Response:** `204 No Content`

### Archive {{ model_name }}

```http
POST /api/v1/{{ app_name }}/{{ model_name_kebab }}s/{id}/archive/
```

**Response:** `200 OK`
```json
{"status": "archived", "id": "uuid"}
```

### Publish {{ model_name }}

```http
POST /api/v1/{{ app_name }}/{{ model_name_kebab }}s/{id}/publish/
```

**Response:** `200 OK`
```json
{"status": "published", "id": "uuid"}
```

### My Items

```http
GET /api/v1/{{ app_name }}/{{ model_name_kebab }}s/my_items/
```

Returns only items owned by authenticated user.

## Error Responses

| Code | Description |
|------|-------------|
| 400 | Bad Request - Validation error |
| 401 | Unauthorized - Authentication required |
| 403 | Forbidden - Permission denied |
| 404 | Not Found - Resource doesn't exist |

---
Generated by dual-apps v{{ version }}
