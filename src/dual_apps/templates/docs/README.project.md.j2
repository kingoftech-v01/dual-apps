# {{ project_name_display }}

**Django Project with Dual-Layer Architecture**

Generated by [dual-apps](https://github.com/dual-apps/dual-apps) v{{ version }}

{% if is_specialized_template %}
**Template**: {{ template | title }}
{% endif %}
**Frontend**: {% if use_react %}React SPA{% elif use_htmx %}HTMX + Alpine.js{% else %}HTML Templates{% endif %}

**CSS Framework**: {% if use_tailwind %}Tailwind CSS{% else %}Bootstrap 5{% endif %}

{% if auth %}
**Authentication**: {{ auth | title }}{% if use_allauth %} (Social Login){% endif %}{% if use_jwt %} - JWT Storage: {% if use_httponly_jwt %}httpOnly Cookies{% else %}localStorage{% endif %}{% endif %}

{% endif %}
## Quick Start

```bash
# Setup
./scripts/setup.sh

# Development
{% if docker %}
docker-compose up -d
{% endif %}
python manage.py runserver

# Open http://localhost:8000
{% if use_react %}

# For React frontend
cd frontend
npm install
npm run dev
# Open http://localhost:5173
{% endif %}
```

## Features

- **Dual Layer Architecture**: Frontend ({% if use_react %}React{% elif use_htmx %}HTMX{% else %}HTML{% endif %}) + API (DRF) always
- **97% Test Coverage**: {{ apps|length * 45 }}+ tests included
{% if docker %}
- **Docker Ready**: Dev + Prod configurations
{% endif %}
- **OWASP Secure**: Security headers + permissions
{% if use_react %}
- **React SPA**: Full single-page application with Vite
- **JWT Authentication**: {% if use_httponly_jwt %}Secure httpOnly cookie storage{% else %}localStorage with token refresh{% endif %}

{% elif use_htmx %}
- **HTMX Modern**: Dynamic updates without React/Vue
- **Alpine.js**: Lightweight JavaScript interactions
{% else %}
- **HTML Templates**: Simple server-rendered pages
{% endif %}
{% if use_tailwind %}
- **Tailwind CSS**: Utility-first CSS framework
{% else %}
- **Bootstrap 5**: Component-based responsive design
{% endif %}
{% if use_allauth %}
- **Social Authentication**: Google, GitHub login via django-allauth
{% endif %}
{% if celery %}
- **Celery**: Async task processing with Redis
{% endif %}
{% if i18n %}
- **Internationalization**: Multi-language support ready
{% endif %}
{% if template == "ecommerce" %}
- **E-commerce Ready**: Products, Cart, Orders, Payments
{% elif template == "blog" %}
- **Blog Platform**: Posts, Categories, Tags, Comments
{% elif template == "saas" %}
- **SaaS Ready**: Organizations, Subscriptions, Billing
{% elif template == "cms" %}
- **CMS Features**: Pages, Blocks, Menus, Media Library
{% elif template == "booking" %}
- **Booking System**: Services, Appointments, Availability
{% elif template == "marketplace" %}
- **Marketplace**: Vendors, Products, Commissions, Payouts
{% endif %}

## Apps

{% for app in apps_config %}
### {{ app.name_title }}
- Frontend: `http://localhost:8000/{{ app.name }}/`
- API: `http://localhost:8000/api/v1/{{ app.name }}/`
{% endfor %}

## Project Structure

```
{{ project_name }}/
├── {{ project_name }}/        # Django project settings
│   ├── settings/
│   │   ├── base.py           # Common settings
│   │   ├── dev.py            # Development
│   │   ├── prod.py           # Production
│   │   └── security.py       # Security settings
│   └── urls.py               # Root URL config
├── apps/                      # Django applications
│   ├── core/                  # Core app with security module
│   │   └── security/          # Security validators, middleware
{% for app in apps %}
│   └── {{ app }}/            # {{ app|title }} app
{% endfor %}
├── templates/                 # Global templates
├── static/                    # Static files
{% if use_react %}
├── frontend/                  # React frontend
│   ├── src/
│   │   ├── api/              # API client with JWT
│   │   ├── components/       # React components
│   │   └── pages/            # Page components
│   ├── package.json
│   └── vite.config.js
{% endif %}
├── tests/                     # Integration tests
├── e2e/                       # Playwright E2E tests
{% if docker %}
├── docker/                    # Docker configs
{% endif %}
├── scripts/                   # Utility scripts
└── requirements/              # Requirements files
```

## Development

```bash
# Run tests
pytest

# Run with coverage
pytest --cov=apps --cov-report=html

# Format code
black . && ruff check --fix .

# Run pre-commit
pre-commit run --all-files
{% if use_react %}

# React development
cd frontend
npm run dev      # Development server
npm run build    # Production build
npm run lint     # Lint code
{% endif %}
```
{% if docker %}

## Docker

```bash
# Development
docker-compose up -d

# Production
docker-compose -f docker-compose.prod.yml up -d
```
{% endif %}

## API Documentation

API documentation is available at:
- Swagger UI: `http://localhost:8000/api/v1/docs/`
- OpenAPI Schema: `http://localhost:8000/api/v1/schema/`
{% if use_jwt %}

## JWT Authentication

{% if use_httponly_jwt %}
JWT tokens are stored in secure httpOnly cookies:
- Tokens are not accessible via JavaScript (XSS protection)
- Automatic cookie handling by browser
- CSRF protection via SameSite attribute
{% else %}
JWT tokens are stored in localStorage:
- Access token: 15 minutes expiration
- Refresh token: 7 days expiration
- Automatic token refresh handling
{% endif %}

API endpoints:
- Login: `POST /api/v1/auth/login/`
- Refresh: `POST /api/v1/auth/refresh/`
- Logout: `POST /api/v1/auth/logout/`
{% endif %}
{% if use_allauth %}

## Social Authentication

Authentication is handled by django-allauth:
- Login: `http://localhost:8000/accounts/login/`
- Signup: `http://localhost:8000/accounts/signup/`
- Logout: `http://localhost:8000/accounts/logout/`
- Social Login: `http://localhost:8000/accounts/social/`

Configure social providers in Django Admin at `/admin/socialaccount/socialapp/`.
{% endif %}

## Environment Variables

Copy `.env.example` to `.env` and configure:

```bash
cp .env.example .env
```

Key variables:
- `DATABASE_URL`: Database connection string
- `SECRET_KEY`: Django secret key
- `DEBUG`: Debug mode (True/False)
{% if use_jwt %}
- `JWT_ACCESS_TOKEN_LIFETIME`: Access token lifetime (minutes)
- `JWT_REFRESH_TOKEN_LIFETIME`: Refresh token lifetime (days)
{% endif %}
{% if celery %}
- `CELERY_BROKER_URL`: Redis URL for Celery
{% endif %}

See [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) for production configuration.

## Testing

```bash
# Unit tests
pytest tests/

# Integration tests
pytest tests/integration/

# E2E tests (requires Playwright)
cd e2e
npm install
npx playwright test
```

## Documentation

- [ARCHITECTURE.md](ARCHITECTURE.md) - Technical architecture
- [docs/DEVELOPMENT.md](docs/DEVELOPMENT.md) - Development workflow
- [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) - Production deployment
- [docs/SECURITY-GUIDE.md](docs/SECURITY-GUIDE.md) - Security practices
- [docs/API.md](docs/API.md) - API reference

## License

MIT License - see [LICENSE](LICENSE)
